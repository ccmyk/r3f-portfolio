# R3F Portfolio Project Dump
Generated on: Wed Jul  9 00:19:04 PDT 2025

## Project Structure
```
.
├── public
│   ├── fonts
│   │   ├── PPAir-Medium.ttf
│   │   ├── PPAir-Medium.woff
│   │   ├── PPAir-Medium.woff2
│   │   ├── PPNeueMontreal-Medium-msdf.json
│   │   ├── PPNeueMontreal-Medium.png
│   │   ├── PPNeueMontreal-Medium.ttf
│   │   ├── PPNeueMontreal-Medium.woff
│   │   ├── PPNeueMontreal-Medium.woff2
│   │   ├── PPNeueMontrealMono-Book.woff
│   │   └── PPNeueMontrealMono-Book.woff2
│   ├── file.svg
│   ├── globe.svg
│   ├── next.svg
│   ├── vercel.svg
│   └── window.svg
├── src
│   ├── app
│   │   ├── (app)
│   │   │   ├── about
│   │   │   ├── project
│   │   │   │   └── [slug]
│   │   │   │       └── page.tsx
│   │   │   ├── layout.tsx
│   │   │   └── page.tsx
│   │   ├── (payload)
│   │   │   ├── admin
│   │   │   │   ├── [[...segments]]
│   │   │   │   │   ├── not-found.tsx
│   │   │   │   │   └── page.tsx
│   │   │   │   └── importMap.js
│   │   │   ├── api
│   │   │   │   ├── [...slug]
│   │   │   │   │   └── route.ts
│   │   │   │   ├── graphql
│   │   │   │   │   └── route.ts
│   │   │   │   └── graphql-playground
│   │   │   │       └── route.ts
│   │   │   ├── custom.scss
│   │   │   └── layout.tsx
│   │   └── globals.css
│   ├── components
│   │   ├── home
│   │   │   ├── FeaturedWorks.tsx
│   │   │   ├── HeroSection.tsx
│   │   │   ├── HomeAbout.tsx
│   │   │   └── ProjectCard.tsx
│   │   ├── layout
│   │   │   ├── AnimatedClockSegment.tsx
│   │   │   ├── BackgroundGrid.tsx
│   │   │   ├── Footer.tsx
│   │   │   ├── GlobalCanvas.tsx
│   │   │   ├── LiveClock.tsx
│   │   │   └── Navigation.tsx
│   │   └── ui
│   │       ├── AnimatedText.tsx
│   │       ├── CustomCursor.tsx
│   │       ├── GradientBlur.tsx
│   │       ├── GradientBlurModule.css
│   │       ├── LoaderTransition.tsx
│   │       └── PageLoader.tsx
│   ├── hooks
│   │   └── useFluidScaling.ts
│   ├── lib
│   │   ├── easings.ts
│   │   ├── fonts.ts
│   │   └── utils.ts
│   ├── payload
│   │   ├── collections
│   │   │   ├── Media.ts
│   │   │   ├── Projects.ts
│   │   │   ├── Tags.ts
│   │   │   └── Users.ts
│   │   ├── globals
│   │   ├── payload-types.ts
│   │   └── payload.config.ts
│   ├── providers
│   │   └── AppProviders.tsx
│   ├── styles
│   │   ├── animation.css
│   │   ├── base.css
│   │   ├── footer.css
│   │   ├── home.css
│   │   ├── layout.css
│   │   ├── loader.css
│   │   ├── navigation.css
│   │   └── typography.css
│   └── webgl
│       ├── components
│       │   ├── Background.gl.tsx
│       │   ├── DistortedImage.gl.tsx
│       │   ├── FooterText.gl.tsx
│       │   └── InteractiveText.gl.tsx
│       ├── effects
│       │   └── FluidReveal.gl.tsx
│       └── providers
│           └── WebGLSceneProvider.gl.tsx
├── .DS_Store
├── .env
├── .gitignore
├── eslint.config.mjs
├── generate-project-dump-xml.sh
├── generate-project-dump.sh
├── next-env.d.ts
├── next.config.ts
├── package.json
├── pnpm-lock.yaml
├── postcss.config.mjs
├── project-dump.txt
├── README.md
├── tailwind.config.ts
└── tsconfig.json

31 directories, 83 files
```

## Package Configuration

### package.json
```json
{
  "name": "r3f",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@payloadcms/db-sqlite": "^3.45.0",
    "@payloadcms/next": "^3.45.0",
    "@payloadcms/payload-cloud": "^3.45.0",
    "@payloadcms/richtext-lexical": "^3.45.0",
    "@react-three/drei": "^10.4.4",
    "@react-three/fiber": "^9.2.0",
    "clsx": "^2.1.1",
    "framer-motion": "^12.23.0",
    "framer-motion-3d": "^12.4.13",
    "graphql": "^16.11.0",
    "lenis": "^1.3.4",
    "next": "15.3.5",
    "payload": "^3.45.0",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "split-type": "^0.3.4",
    "tailwind-merge": "^3.3.1",
    "three": "^0.178.0"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3",
    "@tailwindcss/postcss": "^4",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@types/three": "^0.178.0",
    "eslint": "^9",
    "eslint-config-next": "15.3.5",
    "tailwindcss": "^4",
    "typescript": "^5"
  }
}
```

### tsconfig.json
```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./src/*"
      ],
      "@payload-config": [
        "./src/payload.config.ts"
      ]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}```

### next.config.ts
```typescript
import { withPayload } from "@payloadcms/next/withPayload";
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default withPayload(nextConfig);
```

### tailwind.config.ts
```typescript
import type { Config } from 'tailwindcss'

const config: Config = {
  // This tells Tailwind where to look for class names.
  // It's automatically configured by Next.js to scan all relevant files.
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/features/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    // The container utility is used to center content. We'll set a default padding.
    container: {
      center: true,
      padding: '2rem',
      screens: {
        '2xl': '1400px',
      },
    },
    extend: {
      // Here we map our CSS variables from globals.css to Tailwind's color palette.
      // This allows us to use classes like `bg-background` or `text-accent`.
      colors: {
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        // We can add the original color names as well for clarity.
        'brand-light': '#F8F6F2',
        'brand-dark': '#050505',
        'brand-gray': '#8A8A8A',
      },
      spacing: {
        // Add custom spacing from the original CSS for easy reuse
        '59.2': '59.2rem',
        '8.5': '8.5rem',
        '4.5': '4.5rem',
        '3.7': '3.7rem',
      },
      // Here we define our custom fonts so we can use classes like `font-main` or `font-book`.
      fontFamily: {
        main: ['var(--font-montreal)', 'sans-serif'],
        book: ['var(--font-montrealbook)', 'monospace'],
      },
      // We can define custom animation keyframes and utilities here.
      // This is how we'll replace hardcoded CSS animations.
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
  // We can add plugins for extra functionality, like typography defaults or animations.
  plugins: [require('tailwindcss-animate')],
}
export default config```

## Source Files

### ./next-env.d.ts
```typescript
/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
```

### ./next.config.ts
```typescript
import { withPayload } from "@payloadcms/next/withPayload";
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default withPayload(nextConfig);
```

### ./src/app/(app)/layout.tsx
```typescript
// src/app/(app)/layout.tsx
import type { Metadata } from 'next'
import { AppProviders } from '@/providers/AppProviders'
import { montreal, montrealbook } from '@/lib/fonts'
import { cn } from '@/lib/utils'
import '../globals.css'

export const metadata: Metadata = {
  title: 'Chris Hall - Art Director & Designer',
  description: 'Art Director & Designer living in Los Angeles.',
}

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en" className={cn('antialiased', montreal.variable, montrealbook.variable)} suppressHydrationWarning>
      <body>
        <AppProviders>{children}</AppProviders>
      </body>
    </html>
  )
}```

### ./src/app/(app)/page.tsx
```typescript
// src/app/(app)/page.tsx
'use client' 

import { HeroSection } from '@/components/home/HeroSection'
import { FeaturedWorks } from '@/components/home/FeaturedWorks'
import { HomeAbout } from '@/components/home/HomeAbout'
import { type Project } from '@/payload/payload-types'

export default function HomePage({ isVisible }: { isVisible: boolean }) {
  const placeholderProjects: Project[] = [
    /* ... placeholder data ... */
  ]

  return (
    <>
      {/* REMOVE THE COMPONENT FROM HERE */}
      {/* <BackgroundGrid /> */}
      <HeroSection isVisible={isVisible} />
      <FeaturedWorks projects={placeholderProjects} />
      <HomeAbout />
    </>
  )
}```

### ./src/app/(app)/project/[slug]/page.tsx
```typescript
```

### ./src/app/(payload)/admin/[[...segments]]/not-found.tsx
```typescript
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import type { Metadata } from 'next'

import config from '@payload-config'
import { NotFoundPage, generatePageMetadata } from '@payloadcms/next/views'
import { importMap } from '../importMap'

type Args = {
  params: Promise<{
    segments: string[]
  }>
  searchParams: Promise<{
    [key: string]: string | string[]
  }>
}

export const generateMetadata = ({ params, searchParams }: Args): Promise<Metadata> =>
  generatePageMetadata({ config, params, searchParams })

const NotFound = ({ params, searchParams }: Args) =>
  NotFoundPage({ config, params, searchParams, importMap })

export default NotFound
```

### ./src/app/(payload)/admin/[[...segments]]/page.tsx
```typescript
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import type { Metadata } from 'next'

import config from '@payload-config'
import { RootPage, generatePageMetadata } from '@payloadcms/next/views'
import { importMap } from '../importMap'

type Args = {
  params: Promise<{
    segments: string[]
  }>
  searchParams: Promise<{
    [key: string]: string | string[]
  }>
}

export const generateMetadata = ({ params, searchParams }: Args): Promise<Metadata> =>
  generatePageMetadata({ config, params, searchParams })

const Page = ({ params, searchParams }: Args) =>
  RootPage({ config, params, searchParams, importMap })

export default Page
```

### ./src/app/(payload)/admin/importMap.js
```javascript
export const importMap = {}
```

### ./src/app/(payload)/api/[...slug]/route.ts
```typescript
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import '@payloadcms/next/css'
import {
  REST_DELETE,
  REST_GET,
  REST_OPTIONS,
  REST_PATCH,
  REST_POST,
  REST_PUT,
} from '@payloadcms/next/routes'

export const GET = REST_GET(config)
export const POST = REST_POST(config)
export const DELETE = REST_DELETE(config)
export const PATCH = REST_PATCH(config)
export const PUT = REST_PUT(config)
export const OPTIONS = REST_OPTIONS(config)
```

### ./src/app/(payload)/api/graphql-playground/route.ts
```typescript
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import '@payloadcms/next/css'
import { GRAPHQL_PLAYGROUND_GET } from '@payloadcms/next/routes'

export const GET = GRAPHQL_PLAYGROUND_GET(config)
```

### ./src/app/(payload)/api/graphql/route.ts
```typescript
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import { GRAPHQL_POST, REST_OPTIONS } from '@payloadcms/next/routes'

export const POST = GRAPHQL_POST(config)

export const OPTIONS = REST_OPTIONS(config)
```

### ./src/app/(payload)/custom.scss
```css
```

### ./src/app/(payload)/layout.tsx
```typescript
/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */
/* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */
import config from '@payload-config'
import '@payloadcms/next/css'
import type { ServerFunctionClient } from 'payload'
import { handleServerFunctions, RootLayout } from '@payloadcms/next/layouts'
import React from 'react'

import { importMap } from './admin/importMap.js'
import './custom.scss'

type Args = {
  children: React.ReactNode
}

const serverFunction: ServerFunctionClient = async function (args) {
  'use server'
  return handleServerFunctions({
    ...args,
    config,
    importMap,
  })
}

const Layout = ({ children }: Args) => (
  <RootLayout config={config} importMap={importMap} serverFunction={serverFunction}>
    {children}
  </RootLayout>
)

export default Layout
```

### ./src/app/globals.css
```css
/* src/app/globals.css */
@import "tailwindcss";

@import "../styles/base.css";
@import "../styles/layout.css";
@import "../styles/typography.css";
@import "../styles/animation.css";
@import "../styles/loader.css";
@import "../styles/navigation.css";
@import "../styles/home.css";
@import "../styles/footer.css";


@layer base {
  @font-face {
    font-family: 'montreal';
    font-display: swap;
    src: url('/fonts/PPNeueMontreal-Medium.woff2') format('woff2');
    font-weight: 500;
  }
  @font-face {
    font-family: 'montrealbook';
    font-display: swap;
    src: url('/fonts/PPNeueMontrealMono-Book.woff2') format('woff2');
    font-weight: 400;
  }

  :root {
    --background: 236 14% 97%;
    --foreground: 240 10% 3.9%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 0 0% 100%;
    --accent-foreground: 240 5.9% 10%;
  }
    
  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: theme('fontFamily.book');
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}```

### ./src/components/home/FeaturedWorks.tsx
```typescript
// src/components/home/FeaturedWorks.tsx
'use client'

import { type Project } from '@/payload/payload-types'
// CORRECTED PATHS
import { ProjectCard } from './ProjectCard'
import { AnimatedText } from '@/components/ui/AnimatedText'

interface FeaturedWorksProps {
  projects: Project[]
}

export function FeaturedWorks({ projects }: FeaturedWorksProps) {
  return (
    <section className="mt-40 md:mt-80 px-4">
      <div className="max-w-screen-2xl mx-auto">
        <div className="flex items-end">
          <AnimatedText
            text="Featured works"
            el="h2"
            className="font-main text-4xl md:text-6xl tracking-tighter"
          />
          <p className="font-book text-neutral-500 ml-4 mb-2">(2020-2024)</p>
        </div>
        <div className="mt-16 md:mt-24 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-24">
          {projects.map((project, index) => (
            <ProjectCard key={project.id} project={project} index={index} />
          ))}
        </div>
      </div>
    </section>
  )
}```

### ./src/components/home/HeroSection.tsx
```typescript
// src/components/home/HeroSection.tsx
'use client'

import { useRef } from 'react'
import { motion, Variants } from 'framer-motion'
import Link from 'next/link'
import { View } from '@react-three/drei'
import { AnimatedText } from '@/components/ui/AnimatedText'
import { power2InOut } from '@/lib/easings'
import { InteractiveTextGL } from '@/webgl/components/InteractiveText.gl'

const containerVariants: Variants = {
  hidden: { opacity: 1 },
  visible: {
    opacity: 1,
    transition: { staggerChildren: 0.2 },
  },
}

const itemVariants: Variants = {
  hidden: { opacity: 0, y: 20 },
  visible: {
    opacity: 1,
    y: 0,
    transition: { duration: 0.8, ease: power2InOut },
  },
}

const ArrowIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg viewBox="0 0 7 7" fill="none" xmlns="http://www.w3.org/2000/svg" {...props}>
    <path d="M6.49194 3.516H5.67594L5.67594 2.052L5.74794 1.272L5.71194 1.26L4.94394 2.124L0.911938 6.156L0.335937 5.58L4.36794 1.548L5.23194 0.78L5.21994 0.743999L4.43994 0.816L2.97594 0.816V0L6.49194 0L6.49194 3.516Z" fill="currentColor" />
  </svg>
)

export function HeroSection({ isVisible }: { isVisible: boolean }) {
  const titleLine1 = useRef<HTMLDivElement>(null)
  const titleLine2 = useRef<HTMLDivElement>(null)

  return (
    <motion.section
      className="relative min-h-screen flex flex-col justify-center px-4 py-20 overflow-hidden"
      variants={containerVariants}
      initial="hidden"
      animate={isVisible ? 'visible' : 'hidden'}
    >
      <div className="relative z-20 w-full max-w-screen-2xl mx-auto">
        <div className="flex flex-col items-start lg:ml-[59.5rem] md:ml-[8.5rem] ml-[4.5rem] pt-16">
          <div className="font-main text-8xl md:text-[18rem] tracking-tighter leading-[0.9]">
            <div ref={titleLine1}>Chris</div>
            <div ref={titleLine2}>Hall</div>
          </div>
          <motion.div variants={itemVariants} className="max-w-md mt-12">
            <h3 className="font-book text-lg leading-relaxed">
              Art Director & Designer<br />
              Living in Los Angeles.
            </h3>
            <div className="mt-6">
              <AnimatedText
                el="h4"
                text="Portfolio_20/25"
                className="font-book text-sm text-neutral-500 uppercase"
              />
            </div>
          </motion.div>
        </div>
      </div>

      <motion.div variants={itemVariants} className="absolute bottom-10 left-1/2 -translate-x-1/2">
        <p className="font-book text-sm uppercase text-neutral-500">[scroll to explore]</p>
      </motion.div>
      <motion.div variants={itemVariants} className="absolute bottom-10 right-4 md:right-8">
        <div className="flex items-center gap-6">
          <Link href="#" className="group font-book text-sm uppercase flex items-center gap-2 hover:text-neutral-500 transition-colors">
            LinkedIn <ArrowIcon className="w-2 h-2 opacity-0 group-hover:opacity-100 transition-opacity" />
          </Link>
          <Link href="#" className="group font-book text-sm uppercase flex items-center gap-2 hover:text-neutral-500 transition-colors">
            Resume <ArrowIcon className="w-2 h-2 opacity-0 group-hover:opacity-100 transition-opacity" />
          </Link>
        </div>
      </motion.div>

      <View track={titleLine1}>
        <InteractiveTextGL text="CHRIS" size={5} />
      </View>
      <View track={titleLine2}>
        <InteractiveTextGL text="HALL" size={5} />
      </View>
    </motion.section>
  )
}```

### ./src/components/home/HomeAbout.tsx
```typescript
// src/components/home/HomeAbout.tsx
'use client'

import { useRef } from 'react'
import { View } from '@react-three/drei'
import { motion } from 'framer-motion'
import { AnimatedText } from '@/components/ui/AnimatedText'
import { BackgroundGL } from '@/webgl/components/Background.gl'
import { DistortedImageGL } from '@/webgl/components/DistortedImage.gl'

export function HomeAbout() {
  // Refs to track the DOM elements for our WebGL views
  const bgViewRef = useRef<HTMLDivElement>(null)
  const portraitViewRef = useRef<HTMLDivElement>(null)

  return (
    <>
      {/* This container needs to exist for the fixed WebGL background to track */}
      <div ref={bgViewRef} className="absolute top-[200vh] h-screen w-full" />
      
      <motion.section
        className="home_about relative mt-40 md:mt-80 p-8"
        initial={{ opacity: 0 }}
        whileInView={{ opacity: 1 }}
        viewport={{ once: true, margin: "-200px" }}
        transition={{ duration: 1 }}
      >
        {/* About Section Content */}
        <div className="relative z-10 mx-auto flex max-w-screen-2xl flex-col">
          <div className="flex flex-col items-start md:ml-[59.4rem] text-brand-light">
              <AnimatedText text="Interactive Designer," el="h2" className="font-main text-4xl md:text-6xl tracking-tighter"/>
              <AnimatedText text="also Speaker & Teacher" el="h2" className="font-main text-4xl md:text-6xl tracking-tighter mt-2"/>
          </div>
          <div ref={portraitViewRef} className="relative mt-8 h-[400px] w-[300px] self-end md:h-[600px] md:w-[450px]">
            {/* This is the placeholder for the portrait. It will be invisible. */}
          </div>
        </div>
      </motion.section>

      {/* RENDER THE WEBGL VIEWS */}
      <View track={bgViewRef} className="fixed inset-0 z-0">
        <BackgroundGL />
      </View>
      <View track={portraitViewRef} className="z-10">
        {/* Replace with your actual portrait image URL */}
        <DistortedImageGL imageUrl="/path/to/your/portrait.jpg" />
      </View>
    </>
  )
}```

### ./src/components/home/ProjectCard.tsx
```typescript
// src/components/home/ProjectCard.tsx
'use client'

import { type Project, type Media } from '@/payload/payload-types'
import { Canvas } from '@react-three/fiber'
import Link from 'next/link'
import { Suspense } from 'react'
// CORRECTED PATHS
import { DistortedImageGL } from '@/webgl/components/DistortedImage.gl'
import { AnimatedText } from '@/components/ui/AnimatedText'

interface ProjectCardProps {
  project: Project
  index: number
}

export function ProjectCard({ project, index }: ProjectCardProps) {
  const coverImage = project.coverImage as Media
  const isFullWidth = index === 1
  const marginLeft = index === 2 ? 'lg:ml-32' : ''

  return (
    <Link
      href={`/project/${project.slug}`}
      className={`group ${isFullWidth ? 'md:col-span-2' : ''} ${marginLeft}`}
    >
      <div className="w-full aspect-video md:aspect-[1.4/1] overflow-hidden bg-neutral-200">
        <Canvas>
          <Suspense fallback={null}>
            {/* The component name was also corrected here */}
            <DistortedImageGL imageUrl={coverImage.url!} />
          </Suspense>
        </Canvas>
      </div>
      <div className="mt-3">
        <div className="flex justify-between items-center">
          <AnimatedText
            text={project.title}
            el="h3"
            className="font-main text-lg uppercase"
          />
          <span className="font-book text-neutral-500">0{index + 1}</span>
        </div>
        <p className="font-book text-neutral-500 mt-1">
          {project.tags?.map((tag) => (typeof tag === 'object' ? tag.name : tag)).join(', ')}
        </p>
      </div>
    </Link>
  )
}```

### ./src/components/layout/AnimatedClockSegment.tsx
```typescript
// src/components/layout/AnimatedClockSegment.tsx
'use client'

import { motion, AnimatePresence } from 'framer-motion'

export function AnimatedClockSegment({ digit }: { digit: string }) {
  return (
    <div className="relative h-4 w-2 overflow-hidden font-book">
      <AnimatePresence mode="popLayout">
        <motion.span
          key={digit}
          initial={{ y: '100%' }}
          animate={{ y: '0%' }}
          exit={{ y: '-100%' }}
          transition={{ ease: 'easeInOut', duration: 0.4 }}
          className="absolute inset-0"
        >
          {digit}
        </motion.span>
      </AnimatePresence>
    </div>
  )
}```

### ./src/components/layout/BackgroundGrid.tsx
```typescript
// src/components/layout/BackgroundGrid.tsx
'use client'

import { motion } from 'framer-motion'

// This component is purely stylistic and uses an array to generate the 13 columns.
export function BackgroundGrid() {
  return (
    <motion.div
      className="Mbg fixed inset-0 z-0 flex justify-between px-4 md:px-8 pointer-events-none"
      initial={{ opacity: 0 }}
      animate={{ opacity: 0.15, transition: { delay: 3.5, duration: 2 } }}
    >
      {Array.from({ length: 13 }).map((_, i) => (
        <div key={i} className="Mbg_col w-px bg-repeat-y" style={{ backgroundImage: `linear-gradient(to bottom, transparent 50%, #9c9c9c 50%)`, backgroundSize: '100% 8px' }} />
      ))}
    </motion.div>
  )
}```

### ./src/components/layout/Footer.tsx
```typescript
// src/components/layout/Footer.tsx

import Link from 'next/link'

export function Footer() {
  return (
    <footer className="w-full p-8 mt-40">
      <div className="max-w-screen-2xl mx-auto flex flex-col items-center">
        {/* This will eventually be our WebGL text component */}
        <div className="text-center mb-12">
          <h2 className="font-main text-6xl md:text-8xl tracking-tighter">
            <Link href="mailto:chris@chrishall.io" className="hover:text-brand-gray transition-colors">
              Get in touch
            </Link>
          </h2>
        </div>

        <div className="flex items-center gap-8 font-book uppercase text-xs tracking-widest">
          <a href="#" target="_blank" rel="noopener noreferrer" className="hover:text-brand-gray transition-colors">Instagram</a>
          <a href="#" target="_blank" rel="noopener noreferrer" className="hover:text-brand-gray transition-colors">LinkedIn</a>
        </div>
      </div>
    </footer>
  )
}```

### ./src/components/layout/GlobalCanvas.tsx
```typescript
// src/components/layout/GlobalCanvas.tsx
'use client'

import { Canvas } from '@react-three/fiber'
import { View, Preload } from '@react-three/drei'
import { AnimatePresence } from 'framer-motion'

// Custom WebGL component imports
import { useWebGLScene } from '@/webgl/providers/WebGLSceneProvider.gl'
import { FluidRevealEffect } from '@/webgl/effects/FluidReveal.gl'

export function GlobalCanvas({ onTransitionComplete }: { onTransitionComplete: () => void }) {
  const { activeScene } = useWebGLScene()

  return (
    <Canvas
      eventSource={document.body} // This allows the canvas to receive events from the whole page
      className="fixed inset-0 z-10 pointer-events-none"
      gl={{ antialias: false }}
    >
      {/* This is the portal that all of our <View> components will render into */}
      <View.Port />

      {/* This pre-loads assets for smoother scene transitions */}
      <Preload all />

      {/* The only scene that renders directly into the canvas is the loader's transition effect */}
      <AnimatePresence>
        {activeScene === 'loader' && (
          <FluidRevealEffect onTransitionComplete={onTransitionComplete} />
        )}
      </AnimatePresence>
    </Canvas>
  )
}```

### ./src/components/layout/LiveClock.tsx
```typescript
// src/components/layout/LiveClock.tsx
'use client'
import { useState, useEffect } from 'react'
import { AnimatedClockSegment } from './AnimatedClockSegment' // CORRECTED

// Helper function to format time and pad with leading zeros
const formatTime = (date: Date) => {
  let hours = date.getHours()
  const minutes = date.getMinutes()
  const ampm = hours >= 12 ? 'PM' : 'AM'

  hours = hours % 12
  hours = hours ? hours : 12 // the hour '0' should be '12'

  const strHours = hours.toString().padStart(2, '0')
  const strMinutes = minutes.toString().padStart(2, '0')

  return {
    hours: strHours,
    minutes: strMinutes,
    ampm,
  }
}

export function LiveClock() {
  const [time, setTime] = useState(formatTime(new Date()))

  useEffect(() => {
    const timerId = setInterval(() => {
      setTime(formatTime(new Date()))
    }, 1000 * 60) // Update every minute

    // Cleanup function to clear the interval when the component unmounts
    return () => clearInterval(timerId)
  }, [])

  return (
    <div className="hidden md:flex items-center gap-1 font-book text-sm">
      <span className="font-main uppercase">BCN</span>
      <div className="flex">
        <AnimatedClockSegment digit={time.hours[0]} />
        <AnimatedClockSegment digit={time.hours[1]} />
      </div>
      <span className="animate-pulse">:</span>
      <div className="flex">
        <AnimatedClockSegment digit={time.minutes[0]} />
        <AnimatedClockSegment digit={time.minutes[1]} />
      </div>
      <div className="flex">
        <AnimatedClockSegment digit={time.ampm[0]} />
        <AnimatedClockSegment digit={time.ampm[1]} />
      </div>
    </div>
  )
}```

### ./src/components/layout/Navigation.tsx
```typescript
// src/components/layout/Navigation.tsx
'use client'

import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { useState } from 'react'
import { motion, AnimatePresence, Variants } from 'framer-motion'
import { AnimatedText } from '@/components/ui/AnimatedText'
import { LiveClock } from './LiveClock'
import { power2InOut, power4InOut } from '@/lib/easings'

// Animation variants remain the same
const navVariants: Variants = {
  hidden: { y: '-100%' },
  visible: { y: '0%', transition: { duration: 1, ease: power4InOut } },
}

const navLinks = [
  { href: '/', label: 'Index' },
  { href: '/about', label: 'About' },
  { href: '/playground', label: 'Playground' },
]

export function Navigation({ isVisible }: { isVisible: boolean }) {
  const pathname = usePathname()
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  return (
    <>
      <motion.nav
        variants={navVariants}
        initial="hidden"
        animate={isVisible ? 'visible' : 'hidden'}
        className="nav-container" // Use our new semantic class
      >
        <div className="nav-backdrop"></div>
        <div className="nav-content">
          <div className="nav-left-cluster">
            <Link href="/" className="font-main uppercase tracking-wider text-base">
              <AnimatedText text="Chris Hall" el="span" />
            </Link>
            <div className="h-4 w-px bg-black/20 hidden md:block" />
            <LiveClock />
          </div>
          <div className="nav-right-cluster hidden md:flex">
            {navLinks.map((link) => (
              <Link key={link.href} href={link.href} className="font-main uppercase tracking-wider relative group">
                <AnimatedText text={link.label} el="span" />
                <motion.div
                  className="absolute -bottom-1 left-0 right-0 h-px bg-brand-dark origin-left"
                  initial={{ scaleX: 0 }}
                  animate={{ scaleX: pathname === link.href ? 1 : 0 }}
                  transition={{ duration: 0.6, ease: power2InOut }}
                />
              </Link>
            ))}
             <Link href="#" className="nav-link-inverted"> {/* Use our other new class */}
                Let's Talk
             </Link>
          </div>
          {/* Mobile Burger Menu remains the same */}
        </div>
      </motion.nav>
      {/* Mobile Menu Overlay remains the same */}
    </>
  )
}```

### ./src/components/ui/AnimatedText.tsx
```typescript
// src/components/ui/AnimatedText.tsx
'use client'

import { motion, Variants } from 'framer-motion'
import { useMemo } from 'react'

// The exact fake characters from the original anims.js
const FAKE_CHARS = '##·$%&/=€|()@+09*+]}{['.split('')

// The exact timing values from the original anims.js
const DURATION_REAL = 0.3
const STAGGER_REAL = 0.05
const DURATION_FAKE = 0.16
const DELAY_FAKE_BASE = 0.05
const STAGGER_FAKE_MICRO = 0.016

interface AnimatedTextProps {
  text: string
  el?: keyof JSX.IntrinsicElements
  className?: string
  staggerDelay?: number
  startDelay?: number
}

export function AnimatedText({ text, el: Wrapper = 'p', className, staggerDelay = 0.05, startDelay = 0 }: AnimatedTextProps) {
  const chars = useMemo(() => {
    return text.split('').map((char, index) => ({
      key: `${index}-${char}`,
      char: char === ' ' ? '\u00A0' : char, // Use non-breaking space
      fake1: FAKE_CHARS[Math.floor(Math.random() * FAKE_CHARS.length)],
      fake2: FAKE_CHARS[Math.floor(Math.random() * FAKE_CHARS.length)],
    }))
  }, [text])

  const containerVariants: Variants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        delayChildren: startDelay,
        staggerChildren: staggerDelay,
      },
    },
  }

  const charVariants: Variants = {
    hidden: { opacity: 0 },
    visible: { opacity: 1, transition: { duration: DURATION_REAL, ease: 'easeOut' } },
  }

  const fakeCharVariants = (charIndex: number, fakeIndex: number): Variants => ({
    hidden: { scaleX: 1, opacity: 1 },
    visible: {
      scaleX: 0,
      opacity: 0,
      transition: {
        duration: DURATION_FAKE,
        delay: (charIndex * DELAY_FAKE_BASE) + ((1 + fakeIndex) * STAGGER_FAKE_MICRO),
        ease: 'easeOut',
      },
    },
  })

  return (
    <Wrapper className={className}>
      <motion.span
        className="animated-text-container"
        variants={containerVariants}
        initial="hidden"
        animate="visible"
        aria-label={text}
      >
        {chars.map(({ key, char, fake1, fake2 }, charIndex) => (
          <motion.span key={key} variants={charVariants} className="char">
            <span className="real-char">{char}</span>
            <motion.span
              variants={fakeCharVariants(charIndex, 0)}
              className="fake-char"
              aria-hidden="true"
            >
              {fake1}
            </motion.span>
            <motion.span
              variants={fakeCharVariants(charIndex, 1)}
              className="fake-char"
              aria-hidden="true"
            >
              {fake2}
            </motion.span>
          </motion.span>
        ))}
      </motion.span>
    </Wrapper>
  )
}```

### ./src/components/ui/CustomCursor.tsx
```typescript
'use client'

import { motion, useMotionValue, useSpring } from 'framer-motion'
import { useEffect } from 'react'

export function CustomCursor() {
  const cursorX = useMotionValue(-100)
  const cursorY = useMotionValue(-100)

  // Use spring for a smoother, more natural cursor follow
  const springConfig = { damping: 25, stiffness: 700, mass: 0.5 }
  const cursorXSpring = useSpring(cursorX, springConfig)
  const cursorYSpring = useSpring(cursorY, springConfig)

  useEffect(() => {
    const moveCursor = (e: MouseEvent) => {
      cursorX.set(e.clientX)
      cursorY.set(e.clientY)
    }

    window.addEventListener('mousemove', moveCursor)
    return () => {
      window.removeEventListener('mousemove', moveCursor)
    }
  }, [cursorX, cursorY])

  return (
    <motion.div
      style={{
        translateX: cursorXSpring,
        translateY: cursorYSpring,
      }}
      className="fixed top-0 left-0 w-4 h-4 bg-brand-dark rounded-full pointer-events-none z-"
    />
  )
}```

### ./src/components/ui/GradientBlur.tsx
```typescript
// src/components/ui/gradient-blur.tsx
import styles from './gradient-blur.module.css';

export function GradientBlur() {
  return (
    <div className="absolute inset-0 pointer-events-none">
      <div className={`absolute inset-0 backdrop-blur-sm ${styles.mask1}`} />
      <div className={`absolute inset-0 backdrop-blur-md ${styles.mask2}`} />
      {/*... other divs for the effect... */}
    </div>
  );
}```

### ./src/components/ui/GradientBlurModule.css
```css
// src/components/ui/gradient-blur.module.css
.mask1 {
-webkit-mask-image: linear-gradient(to top, transparent 0%, white 12.5%, white 37.5%, transparent 50%);
mask-image: linear-gradient(to top, transparent 0%, white 12.5%, white 37.5%, transparent 50%);
}
.mask2 {
-webkit-mask-image: linear-gradient(to top, transparent 12.5%, white 37.5%, white 50%, transparent 62.5%);
mask-image: linear-gradient(to top, transparent 12.5%, white 37.5%, white 50%, transparent 62.5%);
}```

### ./src/components/ui/LoaderTransition.tsx
```typescript
// src/components/ui/loader-transition.tsx
'use client'

import { motion } from 'framer-motion'
import { Canvas } from '@react-three/fiber'
// We will create this component in a later step
// import { HourglassEffect } from '@/features/loader/hourglass-effect'

export function LoaderTransition() {
  return (
    <motion.div
      initial={{ opacity: 1 }}
      animate={{ opacity: 0 }}
      transition={{ duration: 1.5, delay: 0.5, ease: 'circOut' }}
      className="fixed inset-0 bg-brand-dark z- pointer-events-none"
    >
      {/*
        This is where the OGL ⌛️ canvas would go.
        We'll add a <Canvas> component here later and port the shaders
        from /gl🌊🌊🌊/⌛️/ to create the fluid transition effect.
      */}
      {/* <Canvas>
        <HourglassEffect />
      </Canvas> */}
    </motion.div>
  )
}```

### ./src/components/ui/PageLoader.tsx
```typescript
// src/components/ui/PageLoader.tsx
'use client'

import { useEffect, useRef } from 'react'
import { animate } from 'framer-motion'
import { AnimatedText } from './AnimatedText'
import { power2InOut } from '@/lib/easings'

export function PageLoader({ onLoaded }: { onLoaded: () => void }) {
  const containerRef = useRef<HTMLDivElement>(null)
  const numberRef = useRef<HTMLDivElement>(null)
  const textRef = useRef<HTMLDivElement>(null)

  useEffect(() => {
    const numberEl = numberRef.current
    if (!numberEl) return

    const runLoaderSequence = async () => {
      // Replicate the text reveal from the original (data-params=".8")
      // This will be handled by AnimatedText's variants later
      await animate(textRef.current!, { opacity: 1, y: 0 }, { duration: 0.8, delay: 0.8 })

      // ** Stage 1: 0 -> 42 (2 seconds, linear) **
      await animate(0, 42, {
        duration: 2,
        ease: 'linear',
        onUpdate: (latest) => {
          numberEl.textContent = Math.round(latest).toString().padStart(3, '0')
        },
      })

      // ** Stage 2: 42 -> 90 (8 seconds, easeInOut) **
      await animate(42, 90, {
        duration: 8,
        ease: power2InOut,
        onUpdate: (latest) => {
          numberEl.textContent = Math.round(latest).toString().padStart(3, '0')
        },
      })
      
      // ** Stage 3: The exit sequence **
      // The final number animation and the fade out happen concurrently.
      Promise.all([
        animate(90, 100, {
          duration: 0.49,
          ease: power2InOut,
          onUpdate: (latest) => {
            numberEl.textContent = Math.round(latest).toString().padStart(3, '0')
          },
        }),
        animate(containerRef.current!, { opacity: 0 }, { duration: 0.5, delay: 0.2 })
      ]).then(() => {
        // This onLoaded call now correctly triggers the next stage in AppProviders
        onLoaded()
      })
    }

    runLoaderSequence()
  }, [onLoaded])

  return (
    // We use the semantic classes defined in src/styles/loader.css
    <div ref={containerRef} className="loader-container">
      <div className="loader-backdrop" />
      <div className="loader-content content-grid">
        <div /> {/* Top spacer */}
        <div>
            <div ref={numberRef} className="loader-number">000</div>
            <div ref={textRef} className="loader-text-group">
                {/* The text content from the original HTML */}
                <AnimatedText text="CHRIS HALL" el="h1" />
                <AnimatedText text="DESIGN_PORTFOLIO" el="h2" />
            </div>
        </div>
        <div /> {/* Bottom spacer */}
      </div>
    </div>
  )
}```

### ./src/hooks/useFluidScaling.ts
```typescript
// src/hooks/useFluidScaling.ts
'use client'

import { useLayoutEffect } from 'react'

// Define the design breakpoints from the original project.
const DESIGN_BREAKPOINTS = {
  L: { w: 1440, h: 800, multi: 0.4 }, // Large/Desktop
  P: { w: 390, h: 640, multi: 0.4 }, // Portrait/Mobile
}

export function useFluidScaling() {
  // useLayoutEffect runs synchronously after all DOM mutations.
  // It's perfect for measurements and DOM updates like this to avoid flickering.
  useLayoutEffect(() => {
    const calculateAndSetMultipliers = () => {
      const vw = window.innerWidth

      // Replicate the exact calculation from the legacy constructor.js
      let multiL = 10 - (10 - (vw / DESIGN_BREAKPOINTS.L.w) * 10) * DESIGN_BREAKPOINTS.L.multi
      multiL = Math.min(10, multiL)

      let multiP = 10 - (10 - (vw / DESIGN_BREAKPOINTS.P.w) * 10) * DESIGN_BREAKPOINTS.P.multi
      multiP = Math.min(10, multiP)

      // Set the calculated values as CSS variables on the root <html> element.
      document.documentElement.style.setProperty('--ck-multi-l', multiL.toString())
      document.documentElement.style.setProperty('--ck-multi-p', multiP.toString())
      document.documentElement.style.setProperty('--ck-hvar', `${window.innerHeight}px`)
    }

    // Calculate on initial mount.
    calculateAndSetMultipliers()

    // Recalculate whenever the window is resized.
    window.addEventListener('resize', calculateAndSetMultipliers)

    // This is a crucial cleanup function.
    // It removes the event listener when the component unmounts to prevent memory leaks.
    return () => {
      window.removeEventListener('resize', calculateAndSetMultipliers)
    }
  },) // The empty dependency array means this effect runs only once on mount.
}```

### ./src/lib/easings.ts
```typescript
// src/lib/easings.ts
// GSAP's 'power2.inOut'
export const power2InOut = [0.455, 0.03, 0.515, 0.955];

// GSAP's 'power4.inOut'
export const power4InOut = [0.76, 0, 0.24, 1];
```

### ./src/lib/fonts.ts
```typescript
// src/lib/fonts.ts
import localFont from 'next/font/local'

// Define your local fonts
export const montreal = localFont({
  src: '../../public/fonts/PPNeueMontreal-Medium.woff2',
  display: 'swap',
  variable: '--font-montreal', // This is the CSS variable name
})

export const montrealbook = localFont({
  src: '../../public/fonts/PPNeueMontrealMono-Book.woff2',
  display: 'swap',
  variable: '--font-montrealbook', // This is the CSS variable name
})```

### ./src/lib/utils.ts
```typescript
// src/lib/utils.ts
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue) {
  return twMerge(clsx(inputs))
}```

### ./src/payload/collections/Media.ts
```typescript
// src/payload/collections/Media.ts
import { CollectionConfig } from 'payload/types'

export const Media: CollectionConfig = {
  slug: 'media',
  upload: {
    staticURL: '/media',
    staticDir: 'media',
    imageSizes:,
    adminThumbnail: 'thumbnail',
    mimeTypes: ['image/*', 'video/*'],
  },
  fields: [
    {
      name: 'alt',
      type: 'text',
      required: true,
    },
  ],
}```

### ./src/payload/collections/Projects.ts
```typescript
// src/payload/collections/Projects.ts
import { CollectionConfig } from 'payload/types'

export const Projects: CollectionConfig = {
  slug: 'projects',
  admin: {
    useAsTitle: 'title',
    description: 'Projects to be displayed in the portfolio.',
  },
  fields:,
}```

### ./src/payload/collections/Tags.ts
```typescript
// src/payload/collections/Tags.ts
import { CollectionConfig } from 'payload/types'

export const Tags: CollectionConfig = {
  slug: 'tags',
  admin: {
    useAsTitle: 'name',
  },
  fields: [
    {
      name: 'name',
      type: 'text',
      required: true,
      unique: true,
    },
  ],
}```

### ./src/payload/collections/Users.ts
```typescript
```

### ./src/payload/payload-types.ts
```typescript
// src/payload/payload-types.ts
/* tslint:disable */
/* eslint-disable */
/**
 * This file was automatically generated by Payload.
 * DO NOT MODIFY IT BY HAND. Instead, modify your source Payload config,
 * and re-run `payload generate:types` to regenerate this file.
 */

/**
 * Supported timezones in IANA format.
 *
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "supportedTimezones".
 */
export type SupportedTimezones =
  | 'Pacific/Midway'
  | 'Pacific/Niue'
  | 'Pacific/Honolulu'
  | 'Pacific/Rarotonga'
  | 'America/Anchorage'
  | 'Pacific/Gambier'
  | 'America/Los_Angeles'
  | 'America/Tijuana'
  | 'America/Denver'
  | 'America/Phoenix'
  | 'America/Chicago'
  | 'America/Guatemala'
  | 'America/New_York'
  | 'America/Bogota'
  | 'America/Caracas'
  | 'America/Santiago'
  | 'America/Buenos_Aires'
  | 'America/Sao_Paulo'
  | 'Atlantic/South_Georgia'
  | 'Atlantic/Azores'
  | 'Atlantic/Cape_Verde'
  | 'Europe/London'
  | 'Europe/Berlin'
  | 'Africa/Lagos'
  | 'Europe/Athens'
  | 'Africa/Cairo'
  | 'Europe/Moscow'
  | 'Asia/Riyadh'
  | 'Asia/Dubai'
  | 'Asia/Baku'
  | 'Asia/Karachi'
  | 'Asia/Tashkent'
  | 'Asia/Calcutta'
  | 'Asia/Dhaka'
  | 'Asia/Almaty'
  | 'Asia/Jakarta'
  | 'Asia/Bangkok'
  | 'Asia/Shanghai'
  | 'Asia/Singapore'
  | 'Asia/Tokyo'
  | 'Asia/Seoul'
  | 'Australia/Brisbane'
  | 'Australia/Sydney'
  | 'Pacific/Guam'
  | 'Pacific/Noumea'
  | 'Pacific/Auckland'
  | 'Pacific/Fiji';

export interface Config {
  auth: {
    users: UserAuthOperations;
  };
  blocks: {};
  collections: {
    users: User;
    media: Media;
    'payload-locked-documents': PayloadLockedDocument;
    'payload-preferences': PayloadPreference;
    'payload-migrations': PayloadMigration;
  };
  collectionsJoins: {};
  collectionsSelect: {
    users: UsersSelect<false> | UsersSelect<true>;
    media: MediaSelect<false> | MediaSelect<true>;
    'payload-locked-documents': PayloadLockedDocumentsSelect<false> | PayloadLockedDocumentsSelect<true>;
    'payload-preferences': PayloadPreferencesSelect<false> | PayloadPreferencesSelect<true>;
    'payload-migrations': PayloadMigrationsSelect<false> | PayloadMigrationsSelect<true>;
  };
  db: {
    defaultIDType: string;
  };
  globals: {};
  globalsSelect: {};
  locale: null;
  user: User & {
    collection: 'users';
  };
  jobs: {
    tasks: unknown;
    workflows: unknown;
  };
}
export interface UserAuthOperations {
  forgotPassword: {
    email: string;
    password: string;
  };
  login: {
    email: string;
    password: string;
  };
  registerFirstUser: {
    email: string;
    password: string;
  };
  unlock: {
    email: string;
    password: string;
  };
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "users".
 */
export interface User {
  id: string;
  updatedAt: string;
  createdAt: string;
  email: string;
  resetPasswordToken?: string | null;
  resetPasswordExpiration?: string | null;
  salt?: string | null;
  hash?: string | null;
  loginAttempts?: number | null;
  lockUntil?: string | null;
  sessions?:
    | {
        id: string;
        createdAt?: string | null;
        expiresAt: string;
      }[]
    | null;
  password?: string | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "media".
 */
export interface Media {
  id: string;
  alt: string;
  updatedAt: string;
  createdAt: string;
  url?: string | null;
  thumbnailURL?: string | null;
  filename?: string | null;
  mimeType?: string | null;
  filesize?: number | null;
  width?: number | null;
  height?: number | null;
  focalX?: number | null;
  focalY?: number | null;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-locked-documents".
 */
export interface PayloadLockedDocument {
  id: string;
  document?:
    | ({
        relationTo: 'users';
        value: string | User;
      } | null)
    | ({
        relationTo: 'media';
        value: string | Media;
      } | null);
  globalSlug?: string | null;
  user: {
    relationTo: 'users';
    value: string | User;
  };
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-preferences".
 */
export interface PayloadPreference {
  id: string;
  user: {
    relationTo: 'users';
    value: string | User;
  };
  key?: string | null;
  value?:
    | {
        [k: string]: unknown;
      }
    | unknown[]
    | string
    | number
    | boolean
    | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-migrations".
 */
export interface PayloadMigration {
  id: string;
  name?: string | null;
  batch?: number | null;
  updatedAt: string;
  createdAt: string;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "users_select".
 */
export interface UsersSelect<T extends boolean = true> {
  updatedAt?: T;
  createdAt?: T;
  email?: T;
  resetPasswordToken?: T;
  resetPasswordExpiration?: T;
  salt?: T;
  hash?: T;
  loginAttempts?: T;
  lockUntil?: T;
  sessions?:
    | T
    | {
        id?: T;
        createdAt?: T;
        expiresAt?: T;
      };
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "media_select".
 */
export interface MediaSelect<T extends boolean = true> {
  alt?: T;
  updatedAt?: T;
  createdAt?: T;
  url?: T;
  thumbnailURL?: T;
  filename?: T;
  mimeType?: T;
  filesize?: T;
  width?: T;
  height?: T;
  focalX?: T;
  focalY?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-locked-documents_select".
 */
export interface PayloadLockedDocumentsSelect<T extends boolean = true> {
  document?: T;
  globalSlug?: T;
  user?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-preferences_select".
 */
export interface PayloadPreferencesSelect<T extends boolean = true> {
  user?: T;
  key?: T;
  value?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "payload-migrations_select".
 */
export interface PayloadMigrationsSelect<T extends boolean = true> {
  name?: T;
  batch?: T;
  updatedAt?: T;
  createdAt?: T;
}
/**
 * This interface was referenced by `Config`'s JSON-Schema
 * via the `definition` "auth".
 */
export interface Auth {
  [k: string]: unknown;
}


declare module 'payload' {
  export interface GeneratedTypes extends Config {}
}```

### ./src/payload/payload.config.ts
```typescript
// src/payload/payload.config.ts
import path from 'path'
import { buildConfig } from 'payload/config'

// We import the bundler and adapter we need
import { webpackBundler } from '@payloadcms/bundler-webpack'
import { sqliteAdapter } from '@payloadcms/db-sqlite'
import { lexicalEditor } from '@payloadcms/richtext-lexical'
import sharp from 'sharp'

// Import all of our collections
import { Users } from './collections/Users'
import { Projects } from './collections/Projects'
import { Media } from './collections/Media'
import { Tags } from './collections/Tags'

export default buildConfig({
  // The admin panel configuration
  admin: {
    user: Users.slug,
    // We are explicitly telling Payload to use the webpack bundler for the best Next.js integration.
    bundler: webpackBundler(),
  },
  
  // The rich text editor to use in the admin panel
  editor: lexicalEditor({}),

  // An array of all your collections
  collections:,

  // This is the secret key used for authentication and encryption
  secret: process.env.PAYLOAD_SECRET |

| 'a-secret-key-to-get-started',

  // This tells Payload where to generate the TypeScript types for your collections
  typescript: {
    outputFile: path.resolve(__dirname, 'payload-types.ts'),
  },

  // This is the database adapter. We're using SQLite.
  db: sqliteAdapter({
    client: {
      // The DATABASE_URI is set in your.env file.
      // The `file:./r3f.db` is the default we set up.
      url: process.env.DATABASE_URI |

| 'file:./r3f.db',
    },
  }),

  // Sharp is used for high-performance image processing
  sharp,

  // We can add plugins here. For now, we'll keep it empty to keep things simple.
  plugins:,
})```

### ./src/providers/AppProviders.tsx
```typescript
// src/providers/AppProviders.tsx
'use client'

import React, { useState, useEffect } from 'react'
import { AnimatePresence } from 'framer-motion'
import { usePathname } from 'next/navigation'
import { useFluidScaling } from '@/hooks/useFluidScaling'
import { WebGLSceneProvider, useWebGLScene } from '@/webgl/providers/WebGLSceneProvider.gl'

import { PageLoader } from '@/components/ui/PageLoader'
import { GlobalCanvas } from '@/components/layout/GlobalCanvas'
import { Navigation } from '@/components/layout/Navigation'
import { Footer } from '@/components/layout/Footer'
import { CustomCursor } from '@/components/ui/CustomCursor'
import { BackgroundGrid } from '@/components/layout/BackgroundGrid'

type LoadingState = 'dom-loading' | 'webgl-loading' | 'complete'

export function AppProviders({ children }: { children: React.ReactNode }) {
  useFluidScaling()

  const [loadingState, setLoadingState] = useState<LoadingState>('dom-loading')
  // We get setActiveScene from the context *after* the provider is rendered.
  const WebGLContextConsumer = ({ children }: { children: React.ReactNode }) => {
    const { setActiveScene } = useWebGLScene()
    const pathname = usePathname()

    useEffect(() => {
      if (sessionStorage.getItem('siteLoaded') === 'true') {
        setLoadingState('complete')
        setActiveScene(null)
      }
    }, [pathname, setActiveScene])

    const handleDomLoadComplete = () => {
      setActiveScene('loader')
      setLoadingState('webgl-loading')
    }

    const handleWebglLoadComplete = () => {
      setActiveScene(null)
      setLoadingState('complete')
      sessionStorage.setItem('siteLoaded', 'true')
    }

    return (
      <>
        <CustomCursor />
        <AnimatePresence>
          {loadingState !== 'complete' && (
            <div key="loader-wrapper">
              {/* <GlobalCanvas onTransitionComplete={handleWebglLoadComplete} /> */}
              {loadingState === 'dom-loading' && <PageLoader onLoaded={handleDomLoadComplete} />}
            </div>
          )}
        </AnimatePresence>

        {loadingState === 'complete' && (
          <div className="fade-in">
            <Navigation isVisible={true} />
            <main className="pt-24">{children}</main>
            <Footer />
          </div>
        )}
      </>
    )
  }

  return (
    <WebGLSceneProvider>
      <WebGLContextConsumer>{children}</WebGLContextConsumer>
    </WebGLSceneProvider>
  )
}```

### ./src/styles/animation.css
```css
/* src/styles/animation.css */
.animated-text-container { /* Replaces .Awrite */
  position: relative;
  text-transform: uppercase;
  --dark: theme('colors.brand-dark');
  --light: theme('colors.brand-light');
}
.animated-text-container .char {
  position: relative;
  display: inline-block;
}
.animated-text-container .char .real-char { /* .n */
  opacity: 0;
  color: var(--dark);
}
.animated-text-container .char .fake-char { /* .f */
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
  color: var(--light);
  z-index: 1;
  background: var(--dark);
  transform-origin: left center;
}
.animated-text-inverted { /* .Awrite-inv */
  color: var(--light);
  padding: 2px 4px 1px;
  background: var(--dark);
}
.animated-text-inverted .real-char {
  color: var(--light);
}```

### ./src/styles/base.css
```css
/* src/styles/base.css */
html {
  box-sizing: border-box;
  overscroll-behavior: none;
  -webkit-font-smoothing: antialiased;
}

body {
  font-family: theme('fontFamily.book');
  color: theme('colors.brand-dark');
  background-color: theme('colors.brand-light');
  font-weight: 400;
  line-height: 1;
}

/* Base body font size with responsive logic from original */
:root.D body { font-size: max(11px, 1.1rem); }
@media (orientation: landscape) { :root.T body { font-size: max(11px, 1.1rem); } }
@media (orientation: portrait) and (min-width: 744px) { :root.T body { font-size: clamp(9px, 13px, 0.55rem); } }
@media (orientation: portrait) and (max-width: 745px) { :root.T body { font-size: clamp(9px, 13px, 1.1rem); } }

/* Global helper for hiding elements from screen readers */
.scr_read {
  border: 0;
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute !important;
  width: 1px;
}```

### ./src/styles/footer.css
```css
/* src/styles/footer.css */
.footer-container { /* Replaces .footer */
  width: 100%;
  position: relative;
  overflow: hidden;
  margin-top: 24rem;
  padding: 1.6rem 0 5.6rem;
}
.footer-content { /* Replaces .footer_cm */
  width: 100%;
}
.footer-title-link { /* Replaces .footer_cm .Atitle */
  margin-left: var(--pgrid);
}
.footer-links-container { /* Replaces .footer .cnt_lk */
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  gap: 0.4rem 1rem;
  margin-left: 9.4rem; /* Mobile first */
  width: 18.4rem;
}

@media (min-width: 744px) {
  .footer-links-container {
    margin-left: 30rem;
    width: 28.6rem;
  }
}
@media (min-width: 1024px) {
  .footer-links-container {
    margin-left: 70.9rem;
    width: 54.9rem;
  }
}```

### ./src/styles/home.css
```css
/* src/styles/home.css */
.home-hero-section { /* Replaces .home_hero */
  height: 100vh;
  display: flex;
  justify-content: center;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  padding-bottom: 20rem;
}
.home-hero-content-wrapper { /* Replaces .home_hero .cnt_hold */
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding-top: 4rem;
  margin-left: 4.5rem;
}
.home-hero-title-container { /* Replaces .home_hero .cnt_tt */
  display: flex;
  flex-direction: column;
}
.home-hero-subtitle-container { /* Replaces .home_hero .cnt_bt */
  margin-top: 3.2rem;
}
.home-featured-section { /* Replaces .home_prjs */
  margin-top: 20rem;
}

/* Responsive Overrides */
@media (min-width: 768px) {
  .home-hero-content-wrapper {
    margin-left: 8.5rem;
    padding-top: 4rem;
  }
  .home-featured-section {
    margin-top: 40rem;
  }
}
@media (min-width: 1024px) {
  .home-hero-content-wrapper {
    margin-left: 59.5rem;
    padding-top: 8rem;
  }
}```

### ./src/styles/layout.css
```css
/* src/styles/layout.css */
:root {
  --pgrid: 0.8rem; /* Mobile default */
}
@media (min-width: 744px) and (orientation: portrait) {
  :root { --pgrid: calc(50vw - 36.8rem); }
}
@media (min-width: 1024px) {
  :root { --pgrid: calc(50vw - 70.4rem); }
}

.content-grid { /* Replaces .c-vw */
  margin: 0 auto;
  width: 100%;
  padding-left: var(--pgrid);
  padding-right: var(--pgrid);
}

.background-grid { /* Replaces .Mbg */
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: space-between;
  align-items: stretch;
  opacity: 0.15;
  pointer-events: none;
  padding: 0 var(--pgrid);
}
.background-grid-column { /* Replaces .Mbg_col */
  flex-shrink: 0;
  width: 1px;
  background: linear-gradient(to bottom, transparent 50%, #9c9c9c 50%);
  background-size: 100% 8px;
}```

### ./src/styles/loader.css
```css
/* src/styles/loader.css */

.loader-container { /* Replaces .loader */
  position: fixed;
  inset: 0;
  z-index: 100;
  overflow: hidden;
  pointer-events: none;
}
.loader-backdrop { /* Replaces .loader_bg */
  background: theme('colors.brand-dark');
  position: absolute;
  inset: 0;
}
.loader-content { /* Replaces .loader_cnt */
  height: 100vh;
  color: theme('colors.brand-light');
  display: flex;
  justify-content: space-between;
  flex-direction: column;
  position: relative;
  align-items: flex-start;
  padding-top: 0.8rem;
  padding-bottom: 4rem;
}
.loader-number { /* Replaces .loader_tp */
  font-family: theme('fontFamily.main');
  font-variant-numeric: tabular-nums;
  font-kerning: none;
  font-size: 16.7rem;
  letter-spacing: -0.02em;
  margin-left: 3.7rem;
}
.loader-text-group { /* Replaces .loader_bp */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  width: 29rem;
  margin-left: 4.5rem;
}
.loader-text-group .animated-text-container { /* targets the .Awrite replacement */
  --light: theme('colors.brand-dark');
  --dark: theme('colors.brand-light');
}
.loader-text-group .animated-text-container + .animated-text-container {
  margin-top: 0.2rem;
}

/* Responsive Overrides */
@media (min-width: 768px) {
  .loader-number {
    font-size: 28rem;
    margin-left: 8.5rem;
  }
  .loader-text-group {
    margin-left: 8.5rem;
  }
}
@media (min-width: 1024px) {
  .loader-number {
    margin-left: 59.2rem;
  }
  .loader-text-group {
    margin-left: 59.2rem;
  }
}```

### ./src/styles/navigation.css
```css
/* src/styles/navigation.css */
.nav-container { /* Replaces .nav */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 50;
}
.nav-content { /* Replaces .nav_top */
  position: relative;
  display: flex;
  justify-content: space-between;
  z-index: 54;
  line-height: 1.27;
  padding: 0.8rem;
}
.nav-backdrop { /* Replaces .nav_blur */
  position: absolute;
  inset: 0;
  z-index: 5;
  background-color: hsla(var(--background), 0.8);
  backdrop-filter: blur(4px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}
.nav-cluster { /* Replaces .nav_left and .nav_right */
  display: flex;
  align-items: center;
  gap: theme('spacing.4');
}
.nav-logo {
  opacity: 0; /* Animation controlled by Framer Motion */
  pointer-events: all;
}
.nav-clock {
  display: flex;
  align-items: center;
  white-space: nowrap;
}
.nav-link {
  opacity: 0; /* Animation controlled by Framer Motion */
  pointer-events: all;
}
.nav-link-inverted {
  background-color: theme('colors.brand-dark');
  color: theme('colors.brand-light');
  padding: 2px 4px 1px;
  font-family: theme('fontFamily.book');
  text-transform: uppercase;
  font-size: theme('fontSize.sm');
}

/* Responsive Overrides */
@media (min-width: 768px) {
  .nav-content {
    align-items: center;
    padding-top: 1.4rem;
    padding-bottom: 1.4rem;
  }
}```

### ./src/styles/typography.css
```css
/* src/styles/typography.css */

/* Base body font size, pulling from Tailwind config */
body {
  font-family: theme('fontFamily.book');
  font-size: theme('fontSize.sm'); /* Or your preferred base size */
  line-height: 1;
  background-color: theme('colors.brand-light');
  color: theme('colors.brand-dark');
}

/* Base class for the text animation system */
.Awrite {
  position: relative;
  text-transform: uppercase;
  /* --dark and --light will be set by components for inversion */
  --dark: theme('colors.brand-dark');
  --light: theme('colors.brand-light');
}
.Awrite .char {
  position: relative;
  display: inline-block;
  pointer-events: none;
}
.Awrite .char .n { /* "Natural" character */
  opacity: 0;
  color: var(--dark);
}
.Awrite .char .f { /* "Fake" character */
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
  color: var(--light);
  z-index: 1;
  background: var(--dark);
  transform-origin: left center;
}
.Awrite-inv {
  color: var(--light);
  padding: 2px 4px 1px;
  background: var(--dark);
}

/* Type Styles from original .ttj, .tt1, .tt3 classes */
.hero-title {
  font-family: theme('fontFamily.main');
  letter-spacing: -0.02em;
  font-size: 7.6rem; /* Mobile first */
  line-height: 1;
}
.section-title {
  font-family: theme('fontFamily.main');
  letter-spacing: -0.02em;
  font-size: 3.8rem;
}
.body-title {
  font-family: theme('fontFamily.main');
  font-size: 1.6rem;
  letter-spacing: -0.01em;
}

/* Responsive Overrides */
@media (min-width: 768px) {
  .hero-title { font-size: 14.8rem; }
  .section-title { font-size: 4.8rem; }
}
@media (min-width: 1024px) {
  .hero-title { font-size: 18rem; line-height: 0.9; }
  .section-title { font-size: 8rem; }
}

/* Type Styles */
.hero-title-jumbo { /* .ttj */
  font-family: theme('fontFamily.main');
  letter-spacing: -0.02em;
  font-size: 7.6rem;
  line-height: 1;
}
.section-title-large { /* .tt1 */
  font-family: theme('fontFamily.main');
  letter-spacing: -0.02em;
  font-size: 3.8rem;
}
.body-title-medium { /* .tt3 */
  font-family: theme('fontFamily.main');
  font-size: 1.6rem;
  letter-spacing: -0.01em;
}

/* Responsive Overrides */
@media (min-width: 744px) {
  .hero-title-jumbo { font-size: 14.8rem; }
  .section-title-large { font-size: 4.8rem; }
}
@media (min-width: 1024px) {
  .hero-title-jumbo { font-size: 18rem; line-height: 0.9; }
  .section-title-large { font-size: 8rem; }
}

/* Responsive Type Styles */
@media (min-width: 744px) {
  .ttj { font-size: 14.8rem; }
  .tt1 { font-size: 4.8rem; }
}
@media (min-width: 1024px) {
  .ttj { font-size: 18rem; line-height: 0.9; }
  .tt1 { font-size: 8rem; }
}```

### ./src/webgl/components/Background.gl.tsx
```typescript
// src/webgl/components/Background.gl.tsx
'use client'

import * as THREE from 'three'
import { useFrame, extend } from '@react-three/fiber'
import { shaderMaterial, Plane } from '@react-three/drei'
import { motion, useMotionValue, useTransform } from 'framer-motion'

// Shaders from the original /gl🌊🌊🌊/🏜️/ directory
const vertexShader = `
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = vec4(position.xy, 0.0, 1.0);
  }
`
const fragmentShader = `
  uniform float uTime;
  uniform float uProgress; // Replaces the complex GSAP timeline from the original
  uniform vec2 uResolution;
  varying vec2 vUv;

  // Simplified noise for the transition effect
  float noise(vec2 p) {
    return fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);
  }

  void main() {
    vec2 U = vUv;
    U.y = 1. - U.y;
    vec3 color = vec3(0.05); // The dark background color
    
    // The transition effect, controlled by scroll progress
    float transition = smoothstep(0.0, 1.0, uProgress);
    float noiseEffect = mix(0.0, noise(U * 2.0), transition);
    
    gl_FragColor = vec4(color, transition - noiseEffect * 0.2);
  }
`

const BackgroundMaterial = shaderMaterial(
  {
    uTime: 0,
    uProgress: 0,
    uResolution: new THREE.Vector2(),
  },
  vertexShader,
  fragmentShader
)

extend({ BackgroundMaterial })

export function BackgroundGL() {
  const materialRef = useRef<any>()

  useFrame((state, delta) => {
    if (materialRef.current) {
      materialRef.current.uTime += delta
      materialRef.current.uResolution.set(state.size.width, state.size.height)
    }
  })

  // Here you could pass in scroll progress to the uProgress uniform
  // For now, it will just be a static dark background.
  return (
    <Plane args={[2, 2]}>
      {/* @ts-ignore */}
      <backgroundMaterial ref={materialRef} transparent blending={THREE.AdditiveBlending} />
    </Plane>
  )
}```

### ./src/webgl/components/DistortedImage.gl.tsx
```typescript
// src/features/home/distrored-image-plane.tsx
'use client'

import * as THREE from 'three'
import { useRef, useState } from 'react'
import { useLoader, useFrame, extend } from '@react-three/fiber'
import { shaderMaterial } from '@react-three/drei'
import { motion } from 'framer-motion-3d'

// 🩻main.glsl - Vertex Shader from gl_directory.txt
const vertexShader = `
  uniform float uTime;
  uniform float uStart;
  uniform vec2 uMouse;
  varying vec2 vUv;

  void main() {
    vUv = uv;
    vec3 pos = position;
    pos.z += sin(pos.x * 10.0 + uTime * 2.0) * (uMouse.x * 0.1);
    pos.z += cos(pos.y * 10.0 + uTime * 2.0) * (uMouse.y * 0.1);
    pos.z *= uStart;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`

// 🧪main.glsl - Fragment Shader from gl_directory.txt
const fragmentShader = `
  uniform sampler2D tMap;
  uniform float uStart1;
  uniform float uTime;
  varying vec2 vUv;

  vec2 coverTexture(vec2 tsize, vec2 vUv, vec2 mouse) {
    vec2 tUv = vUv;
    vec2 tPos = (tUv -.5);
    tPos.x *= tsize.x / tsize.y;
    return tPos +.5;
  }

  void main() {
    vec2 mouse = vec2(0.);
    vec2 cover = coverTexture(vec2(1., 1.), vUv, mouse);
    vec4 final = texture2D(tMap, cover);
    gl_FragColor = final;
  }
`

// Create a reusable shader material with drei's helper
const DistortionMaterial = shaderMaterial(
  // Uniforms
  {
    uTime: 0,
    uStart: 0, // Corresponds to the animation start
    uMouse: new THREE.Vector2(0, 0),
    tMap: new THREE.Texture(),
  },
  vertexShader,
  fragmentShader
)

// Make it available as a JSX component
extend({ DistortionMaterial })

export function DistortedImagePlane({ imageUrl }: { imageUrl: string }) {
  const materialRef = useRef<any>()
  const texture = useLoader(THREE.TextureLoader, imageUrl)
  const [hovered, setHovered] = useState(false)

  // This hook runs on every frame
  useFrame((state, delta) => {
    if (materialRef.current) {
      materialRef.current.uTime += delta
      // Lerp mouse position for smooth effect
      materialRef.current.uMouse.lerp(state.pointer, 0.05)
    }
  })

  return (
    <motion.mesh
      onPointerOver={() => setHovered(true)}
      onPointerOut={() => setHovered(false)}
      animate={{ scale: hovered? 1.05 : 1 }}
      transition={{ type: 'spring', stiffness: 300, damping: 20 }}
    >
      <planeGeometry args={[2.2, 1.5]} />
      {/* @ts-ignore */}
      <distortionMaterial ref={materialRef} tMap={texture} />
    </motion.mesh>
  )
}```

### ./src/webgl/components/FooterText.gl.tsx
```typescript
// src/webgl/components/FooterText.gl.tsx
'use client'

import * as THREE from 'three'
import { useRef } from 'react'
import { useFrame, extend, useLoader } from '@react-three/fiber'
import { shaderMaterial, Text } from '@react-three/drei'
import { EffectComposer, ShaderPass } from '@react-three/postprocessing'
import { motion, useMotionValue, useSpring } from 'framer-motion'

// Shader from the original /gl🌊🌊🌊/🔥/🧪parent.glsl
const postFragmentShader = `
  uniform float uTime;
  uniform float uMouse; // Will control the hover effect
  uniform sampler2D tDiffuse;
  varying vec2 vUv;

  void main() {
    vec4 tex = texture2D(tDiffuse, vUv);
    
    float a = atan(vUv.y - 0.5, vUv.x - 0.5);
    float d = length(vUv - 0.5);

    vec2 U = vUv;
    U.x += sin(d * 10.0 + uTime) * 0.02 * uMouse;

    tex = texture2D(tDiffuse, U);

    gl_FragColor = tex;
  }
`

const PostMaterial = shaderMaterial(
  {
    tDiffuse: null,
    uTime: 0,
    uMouse: 0,
  },
  `varying vec2 vUv; void main() { vUv = uv; gl_Position = vec4(position, 1.0); }`,
  postFragmentShader
)

extend({ PostMaterial })

export function FooterTextGL() {
  const mouseX = useMotionValue(0.5)
  const springX = useSpring(mouseX, { stiffness: 400, damping: 50 })
  const materialRef = useRef<any>()

  useFrame((state) => {
    if (materialRef.current) {
      materialRef.current.uniforms.uTime.value = state.clock.elapsedTime
    }
  })

  return (
    <>
      <Text
        font="/fonts/PPNeueMontreal-Medium.woff2"
        fontSize={14} // This should be dynamically sized based on viewport
        letterSpacing={-0.022}
        color="black"
        onPointerMove={(e) => mouseX.set(e.uv.x)}
        onPointerOut={() => mouseX.set(0.5)}
      >
        Get in touch
      </Text>

      <EffectComposer>
        {/* @ts-ignore */}
        <shaderPass args={[PostMaterial]} ref={materialRef} uMouse={springX} />
      </EffectComposer>
    </>
  )
}```

### ./src/webgl/components/InteractiveText.gl.tsx
```typescript
// src/features/common/interactive-text-webgl.tsx
'use client'

import * as THREE from 'three'
import { useRef, useMemo } from 'react'
import { useFrame, extend, useLoader } from '@react-three/fiber'
import { shaderMaterial } from '@react-three/drei'
import { power4InOut } from '@/lib/easings'

// 🩻msdf.glsl from /💬/
const vertexShader = `
  attribute vec2 uv;
  attribute vec3 position;
  attribute float index;
  
  uniform mat4 modelViewMatrix;
  uniform mat4 projectionMatrix;
  uniform float uTime;
  uniform float uPower;
  uniform float uStart;
  
  varying vec2 vUv;
  varying float vIndex;

  void main() {
    vUv = uv;
    vIndex = index;
    
    vec3 pos = position;
    pos.y += sin(uTime * 0.5 + index * 0.5) * uPower * 0.1;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`

// 🧪msdf.glsl from /💬/
const fragmentShader = `
  uniform sampler2D tMap;
  uniform float uStart;
  uniform vec3 uColor;
  varying vec2 vUv;

  float median(float r, float g, float b) {
    return max(min(r, g), min(max(r, g), b));
  }

  void main() {
    vec3 tex = texture2D(tMap, vUv).rgb;
    float signedDist = median(tex.r, tex.g, tex.b) - 0.5;
    float d = fwidth(signedDist);
    float alpha = smoothstep(-d, d, signedDist);
    
    if (alpha < 0.01) discard;
    
    gl_FragColor.rgba = vec4(uColor, alpha * (1.0 - uStart));
  }
`

// Create the shader material
const MSDFTextMaterial = shaderMaterial(
  {
    uTime: 0,
    uPower: 0.0,
    uStart: 1.0, // Start at 1 (invisible) and animate to 0 (visible)
    uColor: new THREE.Color('#050505'),
    tMap: new THREE.Texture(),
  },
  vertexShader,
  fragmentShader
)

extend({ MSDFTextMaterial })

// Main Component
export function InteractiveTextWebGL({ text, size = 1, ...props }: { text: string; size?: number; [key: string]: any }) {
  const materialRef = useRef<any>()
  const font = useLoader(THREE.FileLoader, '/fonts/PPNeueMontreal-Medium.json')
  const texture = useLoader(THREE.TextureLoader, '/fonts/PPNeueMontreal-Medium.png')
  const fontData = JSON.parse(font as string)

  // Generate the geometry for the text
  const geometry = useMemo(() => {
    const geometry = new THREE.BufferGeometry()
    const positions: number[] = []
    const uvs: number[] = []
    const indices: number[] = []
    let x = 0

    for (let i = 0; i < text.length; i++) {
      const char = text[i]
      const charData = fontData.chars.find((c) => c.char === char)
      if (!charData) continue

      const s = size / fontData.info.size
      const w = charData.width * s
      const h = charData.height * s
      const xoffset = charData.xoffset * s
      const yoffset = charData.yoffset * s

      // Add vertices for a quad
      positions.push(x + xoffset, -yoffset, 0)
      positions.push(x + xoffset + w, -yoffset, 0)
      positions.push(x + xoffset, -yoffset - h, 0)
      positions.push(x + xoffset + w, -yoffset - h, 0)

      // Add UVs
      const u = charData.x / fontData.common.scaleW
      const v = 1 - charData.y / fontData.common.scaleH
      const uw = charData.width / fontData.common.scaleW
      const vh = charData.height / fontData.common.scaleH
      uvs.push(u, v, u + uw, v, u, v - vh, u + uw, v - vh)

      // Add indices
      const j = i * 4
      indices.push(j, j + 2, j + 1, j + 1, j + 2, j + 3)

      x += charData.xadvance * s
    }

    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3))
    geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uvs, 2))
    geometry.setIndex(indices)
    geometry.center()

    return geometry
  }, [text, size, fontData])

  useFrame((state) => {
    if (materialRef.current) {
      materialRef.current.uTime = state.clock.elapsedTime
      // Lerp mouse position for smooth effect
      materialRef.current.uPower = THREE.MathUtils.lerp(
        materialRef.current.uPower,
        state.pointer.length() * 2, // Power of effect based on mouse distance from center
        0.1
      )
    }
  })

  return (
    <motion.mesh geometry={geometry} {...props}>
      {/* @ts-ignore */}
      <mSDFTextMaterial
        ref={materialRef}
        tMap={texture}
        transparent
        side={THREE.DoubleSide}
        animate={{ uStart: 0 }}
        transition={{ duration: 0.8, delay: 0.5, ease: power4InOut as any }}
      />
    </motion.mesh>
  )
}```

### ./src/webgl/effects/FluidReveal.gl.tsx
```typescript
// src/features/loader/fluid-reveal-effect.tsx
'use client'

import * as THREE from 'three'
import { useRef, useEffect } from 'react'
import { useFrame, extend } from '@react-three/fiber'
import { shaderMaterial } from '@react-three/drei'
import { useAnimate } from 'framer-motion'

// 🩻main.glsl from /⌛️/
const vertexShader = `
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = vec4(position.xy, 0.0, 1.0);
  }
`

// 🧪main.glsl from /⌛️/
const fragmentShader = `
  uniform float uTime;
  uniform float uStart0;
  uniform float uStart1;
  uniform float uStart2;
  uniform float uStartX;
  uniform float uStartY;
  uniform float uMultiX;
  uniform float uMultiY;
  uniform vec2 uResolution;
  varying vec2 vUv;

  void main() {
    vec2 U = vUv;
    U.y = 1. - U.y;
    vec2 V = U;
    V -=.5;
    V.x *= uResolution.x / uResolution.y;
    float t = uTime *.001;
    vec3 col = vec3(0.);
    float s = sin(t *.5) *.5 +.5;
    float c = cos(t *.5) *.5 +.5;
    V.x += uStartX + (s * uMultiX);
    V.y += uStartY + (c * uMultiY);
    float r = length(V) * 2.;
    float a = atan(V.y, V.x);
    float f = cos(a * 3.) *.5 +.5;
    f += smoothstep(.2,.25, r);
    f *= 1. - smoothstep(.4,.45, r);
    f *= uStart0;
    f *= smoothstep(uStart1, uStart1 +.1, r);
    f *= 1. - smoothstep(uStart2, uStart2 +.1, r);
    col = vec3(f);
    gl_FragColor = vec4(col, 1.0);
  }
`

const FluidRevealMaterial = shaderMaterial(
  {
    uTime: 0,
    uStart0: 0, uStart1: 0, uStart2: 1, // Start with the effect invisible
    uStartX: 0, uStartY: 0.1, uMultiX: -0.4, uMultiY: 0.45,
    uResolution: new THREE.Vector2(),
  },
  vertexShader,
  fragmentShader
)

extend({ FluidRevealMaterial })

export function FluidRevealEffect({ onTransitionComplete }: { onTransitionComplete: () => void }) {
  const materialRef = useRef<any>()
  const [scope, animate] = useAnimate()

  useFrame((state, delta) => {
    if (materialRef.current) {
      materialRef.current.uTime += delta * 1000
      materialRef.current.uResolution.set(state.size.width, state.size.height)
    }
  })

  useEffect(() => {
    const sequence = async () => {
      if (materialRef.current) {
        // Animate the effect IN
        await animate(materialRef.current.uniforms.uStart0, 1, { duration: 0.8, ease: 'circOut' })
        // Animate the effect OUT by "wiping" it
        await animate(materialRef.current.uniforms.uStart1, 1, { duration: 1.2, ease: 'circInOut' })
        onTransitionComplete()
      }
    }
    sequence()
  },)

  return (
    <mesh ref={scope}>
      <planeGeometry args={[2, 2]} />
      {/* @ts-ignore */}
      <fluidRevealMaterial ref={materialRef} transparent blending={THREE.AdditiveBlending} />
    </mesh>
  )
}```

### ./src/webgl/providers/WebGLSceneProvider.gl.tsx
```typescript
// src/webgl/providers/WebGLSceneProvider.gl.tsx
'use client'

import { createContext, useContext, useState, ReactNode } from 'react'

type SceneContextType = {
  activeScene: string | null
  setActiveScene: (scene: string | null) => void
}

const WebGLSceneContext = createContext<SceneContextType | undefined>(undefined)

export function WebGLSceneProvider({ children }: { children: ReactNode }) {
  // FIX: Added [activeScene, setActiveScene] to the useState hook.
  const [activeScene, setActiveScene] = useState<string | null>(null)

  return (
    <WebGLSceneContext.Provider value={{ activeScene, setActiveScene }}>
      {children}
    </WebGLSceneContext.Provider>
  )
}

export function useWebGLScene() {
  const context = useContext(WebGLSceneContext)
  if (!context) {
    throw new Error('useWebGLScene must be used within a WebGLSceneProvider')
  }
  return context
}```

### ./tailwind.config.ts
```typescript
import type { Config } from 'tailwindcss'

const config: Config = {
  // This tells Tailwind where to look for class names.
  // It's automatically configured by Next.js to scan all relevant files.
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/features/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    // The container utility is used to center content. We'll set a default padding.
    container: {
      center: true,
      padding: '2rem',
      screens: {
        '2xl': '1400px',
      },
    },
    extend: {
      // Here we map our CSS variables from globals.css to Tailwind's color palette.
      // This allows us to use classes like `bg-background` or `text-accent`.
      colors: {
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        // We can add the original color names as well for clarity.
        'brand-light': '#F8F6F2',
        'brand-dark': '#050505',
        'brand-gray': '#8A8A8A',
      },
      spacing: {
        // Add custom spacing from the original CSS for easy reuse
        '59.2': '59.2rem',
        '8.5': '8.5rem',
        '4.5': '4.5rem',
        '3.7': '3.7rem',
      },
      // Here we define our custom fonts so we can use classes like `font-main` or `font-book`.
      fontFamily: {
        main: ['var(--font-montreal)', 'sans-serif'],
        book: ['var(--font-montrealbook)', 'monospace'],
      },
      // We can define custom animation keyframes and utilities here.
      // This is how we'll replace hardcoded CSS animations.
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
      },
    },
  },
  // We can add plugins for extra functionality, like typography defaults or animations.
  plugins: [require('tailwindcss-animate')],
}
export default config```

